graphs:
  - id: UI
    nodes:
    - id: ui
      module: timeflux_ui.nodes.ui
      class: UI
      params:
        routes:
          flicker: apps/flicker
        settings:
          flicker:
            target_size: 300px
            min_predictions: 20
            min_difference: 5
            grid: false
            calibration:
              baseline_duration: 5000
              focus_duration: 7000
              rounds: 5
            highlight_duration: 3000
            targets:
              play: 7
              next: 30
              rest: 0
    - id: publish
      module: timeflux.nodes.zmq
      class: Pub
      params:
        topic: events
    - id: subscribe
      module: timeflux.nodes.zmq
      class: Sub
      params:
        topics: [ eeg_filtered, events ]
    edges:
      - source: ui:events
        target: publish
      - source: subscribe:eeg_filtered
        target: ui:eeg
      - source: subscribe:events
        target: ui:events
    rate: 10

  - id: display
    nodes:
    - id: subscribe
      module: timeflux.nodes.zmq
      class: Sub
      params:
        topics: [ events ]
    - id: debug
      module: timeflux.nodes.debug
      class: Display
    edges:
      - source: subscribe:events
        target: debug
    rate: 1